<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      Sample Slip Generator
    </ion-title>
  </ion-toolbar>
</ion-header>
  

<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col size="6">
        <ion-item>
          <ion-label position="floating">Invoice Number</ion-label>
          <ion-input type="number" [(ngModel)]="formData.invoiceNumber"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="6">
        <ion-item>
          <ion-label position="floating">Invoice Date</ion-label>
          <ion-datetime displayFormat="MMM DD, YYYY" [(ngModel)]="formData.invoiceDate" ></ion-datetime>
        </ion-item>
      </ion-col>
      <ion-col size="6">
        <ion-item>
          <ion-label position="floating">Decant Date</ion-label>
          <ion-datetime displayFormat="MMM DD, YYYY" [(ngModel)]="formData.decantDate" ></ion-datetime>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="6">
        <ion-item>
          <ion-label position="floating">Vehicle Number</ion-label>
          <ion-input type="text" [(ngModel)]="formData.vehicleNumber"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size="6">
          <ion-item>
            <ion-label position="floating">Driver Name</ion-label>
            <ion-input type="text" [(ngModel)]="formData.driverName"></ion-input>
          </ion-item>
        </ion-col>
    </ion-row>
    
    <br><br>
    
    <ion-row>
      <ion-col size="4" class="border-right">
          <ion-label class="toggle-label">Petrol</ion-label>
          <ion-toggle (ionChange)="onToggle('MS')" [(ngModel)]="formData.ms.isPresent"></ion-toggle>
      </ion-col>
      <ion-col size="4" class="border-right">
          <ion-label class="toggle-label">Diesel</ion-label>
          <ion-toggle (ionChange)="onToggle('HSD')" [(ngModel)]="formData.hsd.isPresent"></ion-toggle>
      </ion-col>
      <ion-col size="4">
          <ion-label class="toggle-label">Speed</ion-label>
          <ion-toggle (ionChange)="onToggle('SPEED')" [(ngModel)]="formData.speed.isPresent"></ion-toggle>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col size="4" class="border-right">
        <ion-item [disabled]="!formData.ms.isPresent">
          <ion-label class="density-label" position="floating">Inv. Density</ion-label>
          <ion-input type="number" [(ngModel)]="formData.ms.invoiceDensity"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size="4" class="border-right">
        <ion-item [disabled]="!formData.hsd.isPresent">
          <ion-label class="density-label" position="floating">Inv. Density</ion-label>
          <ion-input type="number" [(ngModel)]="formData.hsd.invoiceDensity"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size="4">
        <ion-item [disabled]="!formData.speed.isPresent">
          <ion-label class="density-label" position="floating">Inv. Density</ion-label>
          <ion-input type="number" [(ngModel)]="formData.speed.invoiceDensity"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col size="4" class="border-right density-label">
        <ion-item [disabled]="!formData.ms.isPresent">
          <ion-label class="density-label" position="floating">Sample Density</ion-label>
          <ion-input type="number" [(ngModel)]="formData.ms.sampleDensity"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size="4" class="border-right density-label">
        <ion-item [disabled]="!formData.hsd.isPresent">
          <ion-label class="density-label" position="floating">Sample Density</ion-label>
          <ion-input type="number" [(ngModel)]="formData.hsd.sampleDensity"></ion-input>
        </ion-item>
      </ion-col>
      <ion-col size="4" class="density-label">
        <ion-item [disabled]="!formData.speed.isPresent">
          <ion-label class="density-label" position="floating">Sample Density</ion-label>
          <ion-input type="number" [(ngModel)]="formData.speed.sampleDensity"></ion-input>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col size="4" class="border-right density-label">
        <ion-item [disabled]="!formData.ms.isPresent">
          <ion-label position="floating" class="font-15">MS Count</ion-label>
          <ion-select placeholder="Select One" class="font-15" [(ngModel)]="formData.ms.canCount">
            <ion-select-option value="1">1</ion-select-option>
            <ion-select-option value="2">2</ion-select-option>
            <ion-select-option value="3">3</ion-select-option>
            <ion-select-option value="4">4</ion-select-option>
            <ion-select-option value="5">5</ion-select-option>
            <ion-select-option value="6">6</ion-select-option>
            <ion-select-option value="7">7</ion-select-option>
            <ion-select-option value="8">8</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-col>
      <ion-col size="4" class="border-right density-label">
        <ion-item [disabled]="!formData.hsd.isPresent">
          <ion-label position="floating" class="font-15">HSD Count</ion-label>
          <ion-select placeholder="Select One" class="font-15" [(ngModel)]="formData.hsd.canCount">
            <ion-select-option value="1">1</ion-select-option>
            <ion-select-option value="2">2</ion-select-option>
            <ion-select-option value="3">3</ion-select-option>
            <ion-select-option value="4">4</ion-select-option>
            <ion-select-option value="5">5</ion-select-option>
            <ion-select-option value="6">6</ion-select-option>
            <ion-select-option value="7">7</ion-select-option>
            <ion-select-option value="8">8</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-col>
      <ion-col size="4" class="density-label">
        <ion-item [disabled]="!formData.speed.isPresent">
          <ion-label position="floating" class="font-15">Speed Count</ion-label>
          <ion-select placeholder="Select One" class="font-15" [(ngModel)]="formData.speed.canCount">
            <ion-select-option value="1">1</ion-select-option>
            <ion-select-option value="2">2</ion-select-option>
            <ion-select-option value="3">3</ion-select-option>
            <ion-select-option value="4">4</ion-select-option>
            <ion-select-option value="5">5</ion-select-option>
            <ion-select-option value="6">6</ion-select-option>
            <ion-select-option value="7">7</ion-select-option>
            <ion-select-option value="8">8</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>

    <br><br>

    <ion-row>
      <ion-col size="12" style="text-align: center;">
        <ion-button color="primary" (click)="onNext()">Next</ion-button>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <!-- cards to enter seal number -->
        <app-seal-detail *ngFor="let item of formData.msCan" [sealData]="item" (onSave)="onUpdateCanData($event)"></app-seal-detail>
        <br>
        <app-seal-detail *ngFor="let item of formData.hsdCan" [sealData]="item" (onSave)="onUpdateCanData($event)"></app-seal-detail>
        <br>
        <app-seal-detail *ngFor="let item of formData.speedCan" [sealData]="item" (onSave)="onUpdateCanData($event)"></app-seal-detail>
      </ion-col>
    </ion-row>

    <br>

    <ion-row *ngIf="printEnabled">
      <ion-col class="center-align">
        <ion-button color="danger" (click)="onPrint()">Generate Pages</ion-button>
        <iFrame id="pdfPrintFrame" src="assets/demoPDF.html" width="0" height="0" style="display: none;" ></iFrame>
      </ion-col>
    </ion-row>

  </ion-grid>
</ion-content>
